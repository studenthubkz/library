# Онлайн Кітапхана - Инструкция по установке и запуску

## Описание проекта

"Онлайн Кітапхана" — это современная онлайн-библиотека с возможностью просмотра и покупки книг. Проект разработан с использованием HTML, CSS, JavaScript для фронтенда и Node.js для бэкенда.

## Системные требования

- Node.js (версия 14.0.0 или выше)
- npm (обычно устанавливается вместе с Node.js)
- Современный веб-браузер (Chrome, Firefox, Safari или Edge)

## Структура проекта

```
/library
│
├── index.html          # Главная страница сайта
├── payment.html        # Страница оплаты
├── 404.html            # Страница ошибки 404
├── server.js           # Основной файл сервера
├── database.json       # Файл с данными (JSON БД)
├── library.db          # SQLite база данных
├── clearDb.js          # Скрипт для очистки базы данных
├── package.json        # Конфигурация проекта и зависимости
└── db/                 # Директория с дополнительными файлами БД
```

## Установка проекта

### Шаг 1: Клонирование репозитория

```bash
git clone <URL репозитория>
cd library
```

### Шаг 2: Установка зависимостей

```bash
npm install
```

Эта команда установит все необходимые пакеты, указанные в файле package.json:
- Express.js (веб-сервер)
- Socket.io (для веб-сокетов)
- SQLite3 (для работы с базой данных)
- и другие зависимости

## Запуск проекта

### Запуск сервера

```bash
node server.js
```

После запуска вы увидите сообщение о том, что сервер запущен и работает на определенном порту (по умолчанию 3000). 

Теперь вы можете открыть веб-браузер и перейти по адресу:
```
http://localhost:3000
```

## Дополнительные команды

### Очистка базы данных

Если вам нужно вернуть базу данных к исходному состоянию:

```bash
node clearDb.js
```

Эта команда:
1. Сбросит файл database.json до начального состояния
2. Очистит все таблицы в library.db
3. Сохранит только базового пользователя-администратора и демо-книги

### Доступ к админ-аккаунту

Для входа в систему используйте следующие учетные данные:
- Логин: `aiibidildaeva@gmail.com` 
- Пароль: `admin`

## Тестирование системы оплаты

Для тестирования функции покупки книг:

1. Войдите в систему с учетными данными администратора
2. Выберите платную книгу и нажмите "Толығырақ"
3. Нажмите кнопку "Сатып алу"
4. В модальном окне оплаты вы можете:
   - Нажать "QR Сканерлеуді имитациялау" для открытия страницы оплаты в новой вкладке
   - Или нажать "Төлемді растау" для имитации оплаты напрямую

## Возможные проблемы и их решение

### Порт занят

Если при запуске вы видите ошибку о том, что порт уже занят:

```bash
Error: listen EADDRINUSE: address already in use :::3000
```

Решение:
1. Остановите программу, которая использует порт 3000
2. Или измените порт в файле server.js, найдя строку с `const PORT = 3000` и заменив порт на другой

### Ошибки с базой данных

Если возникают проблемы с базой данных:

```bash
node clearDb.js
```

Эта команда сбросит базу данных в исходное состояние.

## Дополнительная информация

Для улучшения работы приложения:

- Рекомендуется использовать современные браузеры
- Все книги и данные хранятся локально
- Система оплаты работает в тестовом режиме
- Для промышленного использования рекомендуется подключить настоящую платежную систему

## Технические особенности

- Фронтенд: HTML, CSS, JavaScript, Bootstrap 5
- Бэкенд: Node.js, Express.js
- Базы данных: SQLite3, JSON
- Взаимодействие в реальном времени: Socket.io
- Анимации и интерактивность: современный CSS и JavaScript

---

© 2025 Онлайн Кітапхана. Все права защищены.
